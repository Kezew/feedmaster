<!-- view mode -->
<div *ngIf="!editMode" class="container">
  <!-- <div class="container"> -->
  <div id="card" class="container">
    <h1 id="title">{{ data.title }}</h1>
    <div id="ingredients">
      <span class="small-title">Hozzávalók</span>
      <div id="ingredient-list" class="container">
        <div *ngFor="let ingredient of data.ingredients" class="ingredient-item row">
          <div class="col-6">
            {{ ingredient.name }}
          </div>
          <div class="col-2 grams">
            {{ ingredient.amount }}
          </div>
        </div>
      </div>
    </div>
    <div id="nutrition">
      <div class="small-title">Tápanyagértékek</div>
      <div class="container">
        <div id="nutrition-list" class="row">
          <div id="nutrition-info" class="col-7">
            <div class="nutrition-item row">
              <div class="col-8 fat">
                Zsír
              </div>
              <div class="col-4 grams">
                {{ data.nutrition.fat }}
              </div>
            </div>
            <div class="nutrition-item row sub-row">
              <div class="col-8">
                <i class="fas fa-long-arrow-alt-right"></i> ebből telített
              </div>
              <div class="col-4 grams">
                {{ data.nutrition.saturatedFat }}
              </div>
            </div>
            <div class="nutrition-item row">
              <div class="col-8 protein">
                Fehérje
              </div>
              <div class="col-4 grams">
                {{ data.nutrition.protein }}
              </div>
            </div>
            <div class="nutrition-item row">
              <div class="col-8 carb">
                Szénhidrát
              </div>
              <div class="col-4 grams">
                {{ data.nutrition.carbs }}
              </div>
            </div>
            <div class="nutrition-item row sub-row">
              <div class="col-8">
                <i class="fas fa-long-arrow-alt-right"></i> ebből cukor
              </div>
              <div class="col-4 grams">
                {{ data.nutrition.sugar }}
              </div>
            </div>
            <div class="nutrition-item row">
              <div class="col-8">
                Energia
              </div>
              <div class="col-4 kcal">
                {{ data.nutrition.kcal }}
              </div>
            </div>
          </div>
          <div id="nutrition-pie" class="col">
            <app-nutrition-pie></app-nutrition-pie>
          </div>
        </div>
      </div>
    </div>
    <div id="bottom-row">
      <span id="reference-person" class="mr-auto"><i class="fas fa-child"></i>{{ data.referencePerson }}</span>
      <button><i class="fas fa-edit" (click)="toggleEditMode()"></i></button>
      <button><i class="fas fa-check"></i></button>
    </div>
  </div>
</div>

<!-- edit mode -->
<div *ngIf="editMode" class="container">
  <!-- <div class="container"> -->
  <div id="card" class="container">
    <input id="title" type="text" [(ngModel)]="data.title" focus>
    <div id="ingredients">
      <span class="small-title">Hozzávalók</span>
      <div id="ingredient-list" class="container">
        <div *ngFor="let ingredient of data.ingredients" class="ingredient-item edit row">
          <input class="col-6" [(ngModel)]="ingredient.name">
          <input class="col-2 grams" [(ngModel)]="ingredient.amount">
          <button class="col-2 delete-button" (click)="deleteIngredient(ingredient)"><i class="fas fa-minus-circle"></i></button>
        </div>
        <div class="ingredient-item row"><button id="add-ingredient-button"><i class="fas fa-plus-circle"></i></button></div>
      </div>
    </div>
    <div id="nutrition">
      <div class="small-title">Tápanyagértékek</div>
      <div class="container">
        <div id="nutrition-list" class="row">
          <div id="nutrition-info" class="col-7">
            <div class="nutrition-item row">
              <div class="col-8 fat">
                Zsír
              </div>
              <div class="col-4 grams">
                {{ data.nutrition.fat }}
              </div>
            </div>
            <div class="nutrition-item row sub-row">
              <div class="col-8">
                <i class="fas fa-long-arrow-alt-right"></i> ebből telített
              </div>
              <div class="col-4 grams">
                {{ data.nutrition.saturatedFat }}
              </div>
            </div>
            <div class="nutrition-item row">
              <div class="col-8 protein">
                Fehérje
              </div>
              <div class="col-4 grams">
                {{ data.nutrition.protein }}
              </div>
            </div>
            <div class="nutrition-item row">
              <div class="col-8 carb">
                Szénhidrát
              </div>
              <div class="col-4 grams">
                {{ data.nutrition.carbs }}
              </div>
            </div>
            <div class="nutrition-item row sub-row">
              <div class="col-8">
                <i class="fas fa-long-arrow-alt-right"></i> ebből cukor
              </div>
              <div class="col-4 grams">
                {{ data.nutrition.sugar }}
              </div>
            </div>
            <div class="nutrition-item row">
              <div class="col-8">
                Energia
              </div>
              <div class="col-4 kcal">
                {{ data.nutrition.kcal }}
              </div>
            </div>
          </div>
          <div id="nutrition-pie" class="col">
            <app-nutrition-pie></app-nutrition-pie>
          </div>
        </div>
      </div>
    </div>
    <div id="bottom-row">
      <span id="reference-person" class="mr-auto"><i class="fas fa-child"></i><input id="reference-person" type="text"
          class="mr-auto" [(ngModel)]="data.referencePerson"></span>
      <button><i class="fas fa-times" (click)="toggleEditMode()"></i></button>
      <button><i class="fas fa-check"></i></button>
    </div>
  </div>
</div>
